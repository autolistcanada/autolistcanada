<!DOCTYPE html>
<html lang="en" class="bg-[#fcf8f5] min-h-full">
<head>
  <meta charset="UTF-8">
  <title>AutoList Canada Seller Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ... keep all your custom CSS from before ... */
    .region-pulse { animation: pulse 1.5s infinite; }
    @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(255,153,51,0.4);}70%{box-shadow:0 0 0 12px rgba(255,153,51,0.05);}100%{box-shadow:0 0 0 0 rgba(255,153,51,0.0);} }
    .glow-tile { box-shadow:0 4px 24px 4px rgba(255,153,51,0.12),0 1.5px 8px 0 rgba(34,197,94,0.09); transition:box-shadow .2s; animation:tileGlow 4s ease-in-out infinite;}
    .glow-tile:hover { box-shadow:0 6px 32px 8px rgba(255,153,51,0.18),0 2px 12px 0 rgba(34,197,94,0.13);}
    @keyframes tileGlow { 0%,100%{box-shadow:0 4px 24px 4px rgba(255,153,51,0.12),0 1.5px 8px 0 rgba(34,197,94,0.09);}50%{box-shadow:0 8px 36px 10px rgba(255,153,51,0.20),0 3px 16px 0 rgba(34,197,94,0.17);} }
    .glass {background:rgba(255,255,255,0.7);backdrop-filter:blur(6px);border-radius:12px;border:1px solid rgba(0,0,0,0.03);box-shadow:0 1px 6px 0 rgba(34,197,94,0.04);}
    .modal-bg {background:rgba(0,0,0,0.19);}
    .shimmer {background:linear-gradient(90deg,#f5e9d9 25%,#fff6ed 50%,#f5e9d9 75%);background-size:200% 100%;animation:shimmer 2s linear infinite;}
    @keyframes shimmer {0%{background-position:-150% 0;}100%{background-position:350% 0;}}
    .layered {position:relative;z-index:1;transition:transform .15s, box-shadow .15s;}
    .layered::before {content:"";position:absolute;left:15px;top:15px;right:-15px;bottom:-15px;border-radius:20px;background:#fff6ed;z-index:-1;filter:blur(4px);opacity:.4;transition:opacity .2s;}
    .layered:hover {transform:translateY(-3px) scale(1.04);}
    .layered:hover::before {opacity:.7;}
    .pulse-border {position:relative;z-index:1;}
    .pulse-border::after {content:"";position:absolute;inset:0;border-radius:15px;border:2px solid #fdba74;opacity:.45;animation:border-pulse 1.8s infinite;z-index:-1;pointer-events:none;}
    @keyframes border-pulse {0%{opacity:.45;}60%{opacity:.1;}100%{opacity:.45;}}
    @keyframes floatSlow {0%{transform:translateY(0px) scale(1);}50%{transform:translateY(-18px) scale(1.03);}100%{transform:translateY(0px) scale(1);}}
    @keyframes floatFast {0%{transform:translateY(0px) scale(1);}50%{transform:translateY(8px) scale(1.01);}100%{transform:translateY(0px) scale(1);}}
    .animate-float-slow {animation:floatSlow 12s ease-in-out infinite;}
    .animate-float-fast {animation:floatFast 9s ease-in-out infinite;}
    @keyframes floatSubtle {0%,100%{transform:translateY(0px) rotate(-3deg);}50%{transform:translateY(8px) rotate(3deg);}}
    .animate-psyche {animation:floatSubtle 8s ease-in-out infinite;}
  </style>
</head>
<body class="font-sans text-[#28323a] bg-[#fcf8f5] min-h-screen relative">

<!-- SVG motion backgrounds (unchanged, for brevity) -->
<!-- ... your SVG background code here ... -->

<script>
/** 1. window.userData: source of truth, ready for backend injection! **/
window.userData = {
  name: "Sage",
  listingsSynced: 42,
  aiCreditsUsed: 17,
  confidenceScore: 88,
  milestoneProgress: { total: 42, goal: 50, percent: 84 },
  toolUsage: {
    titleGenerator: 23,
    priceTool: 18,
    trustBuilder: 8,
    tagOptimizer: 11,
    photoEnhancer: 5,
    salesPredictor: 9
  },
  listingSnapshot: [
    { title: "Vintage 90s Denim Jacket", tags: ["Cozy", "Minimalist", "Eco"], tone: "Impulse Buyer", status: "Strong" },
    { title: "Handmade Ceramic Mug", tags: ["Luxury", "Handmade"], tone: "Researcher", status: "Okay" },
    { title: "Retro Wool Sweater", tags: ["Cozy", "Minimalist"], tone: "Impulse Buyer", status: "Needs Fix" }
  ],
  rhythmCalendar: [
    { day: "Mon", rhythm: "Browsing", tip: "Suggest Calm tone" },
    { day: "Tue", rhythm: "Budget", tip: "Suggest Value tone" },
    { day: "Wed", rhythm: "Impulse", tip: "Suggest Bold tone" },
    { day: "Thu", rhythm: "Impulse", tip: "üî• Best for quick sales" },
    { day: "Fri", rhythm: "Luxury", tip: "Suggest Premium tone" },
    { day: "Sat", rhythm: "Browsing", tip: "High traffic" },
    { day: "Sun", rhythm: "Budget", tip: "Suggest Soft tone" }
  ],
  aiFeedback: [
    "üî• Cozy listings had 2x clicks this week",
    "‚ú® Luxury tone earned 3 new followers",
    "üßä Minimalist tags trended in ON region"
  ],
  motivationalQuotes: [
    "You‚Äôre selling calm today ‚Äî and buyers need calm.",
    "Your trust score is rising ‚Äî keep up your unique style.",
    "Every listing is a story. Make it feel true."
  ],
  recentActivity: [
    "Yesterday: 2 prices updated, 1 listing boosted, 4 viewed by Cozy buyers",
    "Today: 1 draft published, 2 listings crosslisted"
  ]
};

// 2. Proxy for reactivity: call renderDashboard after any change
const userDataProxy = new Proxy(window.userData, {
  set(target, prop, val) { target[prop]=val; renderDashboard(); return true; }
});
window.userData = userDataProxy;

// 3. Main render function for all dashboard sections
function renderDashboard() {
  const d = window.userData;

  // Stats
  document.getElementById('statListings').textContent = d.listingsSynced;
  document.getElementById('statAICredits').textContent = d.aiCreditsUsed;
  document.getElementById('statConfidence').textContent = d.confidenceScore + "%";

  // AI Feedback
  document.getElementById('aiFeedbackText').textContent = d.aiFeedback?.[0] || "";

  // Rhythm Calendar
  const cal = document.getElementById('rhythmCalendar');
  cal.innerHTML = '';
  d.rhythmCalendar.forEach((c, i) => {
    cal.innerHTML += `
      <div class="flex flex-col items-center py-2 px-2 rounded-2xl cursor-pointer transition hover:bg-orange-50 group">
        <span class="font-semibold text-[#ea7113] text-sm">${c.day}${c.tip.includes('üî•') ? 'üî•' : ''}</span>
        <span class="text-xs text-[#64748b] font-normal">${c.rhythm}</span>
        <span class="hidden group-hover:block text-[10px] text-green-600 tip-label">${c.tip}</span>
      </div>
    `;
  });

  // Recent Activity
  const feed = document.getElementById('recentActivityList');
  feed.innerHTML = '';
  d.recentActivity.forEach(item => {
    const li = document.createElement('li');
    li.textContent = item;
    feed.appendChild(li);
  });

  // Milestone
  document.getElementById('milestoneTotal').textContent = d.milestoneProgress.total;
  document.getElementById('milestoneCrosslisted').textContent = Math.floor(d.milestoneProgress.percent) + '%';
  document.getElementById('milestoneGoal').textContent = d.milestoneProgress.goal;
  document.getElementById('confidenceBar').style.width = d.milestoneProgress.percent + "%";
  document.getElementById('revenue').textContent = `$${d.milestoneProgress.total * 50} / $${d.milestoneProgress.goal * 50}`;
  document.getElementById('crosslisted').textContent = `${Math.floor(d.milestoneProgress.percent)}%`;

  // Motivational Quotes
  document.getElementById('motivationText').textContent = d.motivationalQuotes?.[0] || "";

  // Tool Usage (Glow Tiles)
  const tools = [
    { id: "titleGenerator", icon: "üìù", label: "Title Generator" },
    { id: "priceTool", icon: "üí≤", label: "Price Tool" },
    { id: "tagOptimizer", icon: "üè∑Ô∏è", label: "Tag Optimizer" },
    { id: "trustBuilder", icon: "üîê", label: "Trust Builder" },
    { id: "photoEnhancer", icon: "üñºÔ∏è", label: "Photo Enhancer" },
    { id: "salesPredictor", icon: "üìä", label: "Sales Predictor" }
  ];
  const toolsGrid = document.getElementById('toolsGrid');
  toolsGrid.innerHTML = '';
  for (const t of tools) {
    toolsGrid.innerHTML += `
      <div class="glow-tile bg-orange-50 rounded-2xl p-6 flex flex-col items-center shadow-xl shadow-orange-100/40 hover:scale-105 transition cursor-pointer group">
        <div class="bg-white rounded-full w-12 h-12 flex items-center justify-center text-orange-400 text-2xl mb-3 shadow">${t.icon}</div>
        <span class="font-semibold text-[#ea7113]">${t.label}</span>
        <span class="text-[11px] text-[#64748b] mt-2 font-normal">${d.toolUsage[t.id] ? ('Used ' + d.toolUsage[t.id] + 'x') : 'Try me!'}</span>
        <button class="mt-4 px-4 py-1.5 rounded-full bg-gradient-to-r from-orange-400 via-orange-300 to-orange-500 text-white font-semibold shadow-lg hover:from-orange-500 hover:to-orange-600 transition">Launch</button>
      </div>
    `;
  }

  // Listings Snapshot
  const listingGrid = document.getElementById('listingSnapshot');
  listingGrid.innerHTML = '';
  d.listingSnapshot.forEach(listing => {
    let statusColor = listing.status === 'Strong'
      ? 'bg-green-100 text-green-600'
      : listing.status === 'Okay'
        ? 'bg-orange-100 text-orange-600'
        : 'bg-red-100 text-red-600';
    listingGrid.innerHTML += `
      <div class="bg-orange-50 rounded-2xl p-6 flex flex-col gap-3 shadow-xl shadow-orange-100/40 relative group">
        <div class="flex items-center justify-between">
          <span class="font-semibold text-[#34616a]">${listing.title}</span>
          <span class="ml-2 text-xs px-3 py-1 rounded-full ${statusColor} font-semibold cursor-pointer">${listing.status}</span>
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          ${listing.tags.map(tag =>
            `<span class="bg-orange-100 text-orange-500 text-xs font-normal px-3 py-1 rounded-full">${tag}</span>`).join('')}
        </div>
        <div class="flex items-center gap-2 text-xs">
          <span class="bg-orange-200 rounded-full px-3 py-1 text-orange-700">${listing.tone}</span>
        </div>
        <div class="flex gap-3 mt-2">
          <button class="px-4 py-1.5 rounded-full bg-gradient-to-r from-orange-400 via-orange-300 to-orange-500 text-white font-semibold shadow-lg hover:from-orange-500 hover:to-orange-600 transition">AI Fix</button>
          <button class="px-4 py-1.5 rounded-full bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 text-white font-semibold shadow-lg hover:from-blue-500 hover:to-blue-600 transition">Boost</button>
        </div>
      </div>
    `;
  });
}

// 4. AI Feedback and Quote rotation
let quoteIdx = 0, feedbackIdx = 0;
function rotateQuote() {
  quoteIdx = (quoteIdx + 1) % window.userData.motivationalQuotes.length;
  document.getElementById('motivationText').textContent = window.userData.motivationalQuotes[quoteIdx];
}
function rotateFeedback() {
  feedbackIdx = (feedbackIdx + 1) % window.userData.aiFeedback.length;
  document.getElementById("aiFeedbackText").textContent = window.userData.aiFeedback[feedbackIdx];
}
setInterval(rotateQuote, 8000);
setInterval(rotateFeedback, 6000);

// 5. DOMContentLoaded: Initial Render
window.addEventListener('DOMContentLoaded', renderDashboard);
</script>

<!-- Main container -->
<div class="mx-auto max-w-[1600px] px-6 py-8 lg:py-12 flex flex-col lg:flex-row gap-12">
  <!-- Sidebar: Rhythm Calendar + Quick Stats -->
  <aside class="w-full lg:w-64 flex-shrink-0 flex flex-col gap-8">
    <!-- Welcome + Stats -->
    <section class="bg-white rounded-2xl shadow-xl shadow-orange-100/40 p-8 mb-4 flex flex-col gap-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-2xl font-extrabold text-[#ea7113]">Welcome, Seller üåø</h1>
          <span class="text-xs text-[#64748b] block mt-1">Your command centre</span>
        </div>
        <div class="glass flex items-center px-2 py-1 ml-2">
          <svg class="w-5 h-5 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="8" stroke-width="2"/><path stroke-width="2" d="M21 21l-2-2"/>
          </svg>
          <input type="text" placeholder="Search listings..." class="ml-2 bg-transparent border-none outline-none text-sm w-24 focus:w-44 transition-all"/>
        </div>
      </div>
      <div class="flex justify-between mt-4 gap-4">
        <div class="flex flex-col items-center">
          <span id="statListings" class="text-orange-500 text-lg font-semibold"></span>
          <span class="text-xs text-[#4b5763] font-normal">Listings Synced</span>
        </div>
        <div class="flex flex-col items-center">
          <span id="statAICredits" class="text-green-500 text-lg font-semibold"></span>
          <span class="text-xs text-[#4b5763] font-normal">AI Credits Used</span>
        </div>
        <div class="flex flex-col items-center">
          <span id="statConfidence" class="text-blue-500 text-lg font-semibold"></span>
          <span class="text-xs text-[#4b5763] font-normal">Confidence</span>
        </div>
      </div>
      <div class="mt-4 bg-[#fff6ed] rounded-2xl px-4 py-3 text-orange-600 text-sm font-medium flex items-center gap-2 shadow-sm" id="aiFeedbackBar">
        <svg class="w-5 h-5 inline text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
        <span id="aiFeedbackText"></span>
      </div>
    </section>
    <!-- Rhythm Calendar -->
    <section class="bg-white rounded-2xl shadow-xl shadow-orange-100/40 p-8 flex flex-col items-center mb-4">
      <div class="flex items-center justify-between w-full mb-3">
        <h2 class="text-lg font-semibold text-[#34616a]">Rhythm Calendar</h2>
        <span class="text-xs bg-orange-100 text-orange-500 px-3 py-1 rounded-full font-medium">Behavioral</span>
      </div>
      <div class="grid grid-cols-7 gap-3 w-full" id="rhythmCalendar"></div>
      <div class="mt-2 text-xs text-[#34616a] text-center">Tip: Tap a day to see ideal tone &amp; crosslist time.</div>
    </section>
    <!-- Daily Change Feed -->
    <section class="bg-white rounded-2xl shadow-xl shadow-orange-100/40 p-6 flex flex-col gap-2">
      <h2 class="text-base font-semibold text-[#34616a] mb-2">Daily Change Feed</h2>
      <ul class="text-xs text-[#64748b] space-y-1" id="recentActivityList"></ul>
    </section>
  </aside>

  <!-- Main content -->
  <main class="flex-1 flex flex-col gap-10">
      <!-- Buyer Psychology Map + Milestone Tracker -->
      <div class="w-full flex flex-col lg:flex-row gap-8">
        <!-- Buyer Psychology Map (your SVG code unchanged) -->
        <section class="w-full lg:w-2/3 bg-white rounded-2xl shadow-xl shadow-orange-100/40 px-8 py-8 relative flex flex-col items-center justify-center">
          <!-- ... your SVG map code ... -->
          <h2 class="text-xl font-semibold text-[#34616a] mb-1">Buyer Psychology Map</h2>
          <p class="text-xs text-[#64748b] mb-3">Hover a region to see buyer tone, click to filter listings</p>
          <!-- ... SVG ... -->
          <div class="relative w-full max-w-[420px] h-[250px] mx-auto">
            <!-- ... SVG ... -->
            <svg viewBox="0 0 400 220" class="w-full h-[220px]">
              <circle id="region-BC" cx="50" cy="120" r="38" class="fill-[#e0f2fe] hover:fill-orange-200 transition cursor-pointer" data-region="BC"/>
              <circle id="region-AB" cx="120" cy="90" r="30" class="fill-[#f1f5f9] hover:fill-orange-100 transition cursor-pointer" data-region="AB"/>
              <circle id="region-ON" cx="260" cy="90" r="45" class="fill-[#ffedd5] region-pulse hover:fill-orange-300 cursor-pointer" data-region="ON"/>
              <circle id="region-QC" cx="320" cy="160" r="34" class="fill-[#ede9fe] hover:fill-orange-100 transition cursor-pointer" data-region="QC"/>
              <circle id="region-ATL" cx="350" cy="40" r="22" class="fill-[#dcfce7] hover:fill-orange-100 transition cursor-pointer" data-region="ATL"/>
              <circle cx="60" cy="110" r="5" class="fill-orange-300 opacity-60"/>
              <circle cx="120" cy="110" r="4" class="fill-orange-300 opacity-60"/>
              <circle cx="235" cy="75" r="6" class="fill-orange-300 opacity-70"/>
              <circle cx="285" cy="110" r="4" class="fill-orange-300 opacity-50"/>
              <circle cx="320" cy="130" r="3" class="fill-orange-300 opacity-40"/>
            </svg>
            <div id="regionTooltip" class="hidden absolute left-1/2 -translate-x-1/2 top-6 bg-white border border-orange-100 px-4 py-2 rounded-2xl text-xs shadow-xl shadow-orange-100/40 text-[#34616a] pointer-events-none transition z-30"></div>
          </div>
        </section>
        <!-- Milestone Tracker -->
        <section class="w-full lg:w-1/3 bg-white rounded-2xl shadow-xl shadow-orange-100/40 px-8 py-8 flex flex-col items-center justify-center">
          <h2 class="text-lg font-semibold text-[#34616a] mb-1">Monthly Milestones</h2>
          <div class="w-full mt-2">
            <div class="flex items-center justify-between mb-1">
              <span class="text-xs text-[#64748b] font-normal">Total Listings</span>
              <span class="text-xs text-orange-500 font-semibold" id="milestoneTotal"></span>
            </div>
            <div class="flex items-center justify-between mb-1">
              <span class="text-xs text-[#64748b] font-normal">% Crosslisted</span>
              <span class="text-xs text-green-500 font-semibold" id="milestoneCrosslisted"></span>
            </div>
            <div class="flex items-center justify-between mb-1">
              <span class="text-xs text-[#64748b] font-normal">Revenue Goal</span>
              <span class="text-xs text-blue-500 font-semibold" id="milestoneGoal"></span>
            </div>
            <div class="my-4">
              <div class="h-4 w-full bg-orange-100 rounded-full relative overflow-hidden cursor-pointer" onclick="openModal()">
                <div id="confidenceBar" class="h-4 bg-gradient-to-r from-orange-400 via-orange-300 to-orange-500 rounded-full transition-all" style="width:0%"></div>
                <div class="absolute inset-0 flex items-center justify-center text-xs text-white font-semibold select-none">Click for breakdown</div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- AI Tools Glow Tiles -->
      <section class="w-full bg-white rounded-2xl shadow-xl shadow-orange-100/40 px-8 pt-8 pb-10 flex flex-col gap-8">
        <h2 class="text-lg font-semibold text-[#34616a] mb-2">AI Tools</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-6 mb-6" id="toolsGrid"></div>
      </section>

      <!-- Listings Snapshot Preview -->
      <section class="w-full bg-white rounded-2xl shadow-xl shadow-orange-100/40 px-8 py-8 flex flex-col gap-6">
        <h2 class="text-lg font-semibold text-[#34616a]">Listings Snapshot</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="listingSnapshot"></div>
      </section>
  </main>
</div>

<!-- Motivational quote toggle -->
<div class="fixed right-4 bottom-6 z-30 flex items-center gap-3">
  <div id="motivation" class="bg-white/80 rounded-2xl px-5 py-3 shadow-xl shadow-orange-100/40 flex items-center gap-2 text-sm text-[#34616a]">
    <svg class="w-5 h-5 mr-1 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M18 9a6 6 0 11-12 0 6 6 0 0112 0z"/><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M12 15v3m0 0H8m4 0h4"/></svg>
    <span id="motivationText"></span>
    <button class="ml-2 text-xs text-neutral-400 hover:text-orange-400" onclick="document.getElementById('motivation').style.display='none'">‚úï</button>
  </div>
</div>

<!-- Milestone Modal -->
<div id="milestoneModal" class="hidden fixed inset-0 z-40 flex items-center justify-center modal-bg">
  <div class="bg-white rounded-2xl p-8 w-[95vw] max-w-lg shadow-xl shadow-orange-100/40 relative">
    <button onclick="closeModal()" class="absolute top-3 right-4 text-lg text-neutral-400 hover:text-orange-400">&times;</button>
    <h2 class="text-xl font-semibold mb-3 text-orange-500">Milestone Breakdown</h2>
    <div class="space-y-4 text-sm">
      <div>
        <span class="font-medium text-[#64748b]">Monthly Revenue:</span>
        <span id="revenue"></span>
      </div>
      <div>
        <span class="font-medium text-[#64748b]">Listings Crosslisted:</span>
        <span id="crosslisted"></span>
      </div>
    </div>
    <button class="mt-6 w-full py-2 rounded-full bg-gradient-to-r from-orange-400 via-orange-300 to-orange-500 text-white font-semibold shadow-lg hover:from-orange-500 hover:to-orange-600 transition" onclick="closeModal()">Close</button>
  </div>
</div>
<script>
function openModal() { document.getElementById('milestoneModal').classList.remove('hidden'); }
function closeModal() { document.getElementById('milestoneModal').classList.add('hidden'); }
</script>
</body>
</html>
